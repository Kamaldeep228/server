"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[125],{1368:function(e,t,l){l.d(t,{Z:function(){return u}});var r=l(7437),o=l(2265),s=l(1802),n=l(9200),a=l(9824),i=l(7138),c=l(1942),d=l(4921);function u(e){var t,l,u;let{profile:x}=e,[g,h]=(0,o.useState)("completed"),[f,p]=(0,o.useState)(!1),[m,b]=(0,o.useState)(!1),v=e=>{h(e)},y=()=>{p(!f)};return(0,r.jsx)(s.Z,{children:(0,r.jsxs)(s.Z,{className:"my-5 p-10 bg-white rounded-lg",children:[(0,r.jsxs)(s.Z,{className:"flex flex-col space-y-4",children:[(0,r.jsxs)(s.Z,{className:"flex space-x-2",children:[(0,r.jsxs)(s.Z,{className:"flex gap-4",children:[(0,r.jsx)(n.Z,{size:"2xl",weight:"bold",children:null==x?void 0:x.name}),(0,r.jsx)(i.default,{href:null==x?void 0:x.url,target:"_blank",children:(0,r.jsx)(c.CkN,{size:22,className:"cursor-pointer",color:"black"})})]}),(0,r.jsx)(n.Z,{size:"md",weight:"bold",color:"green",children:(null==x?void 0:x.isSpecializedProfile)&&"Specialized Profile"})]}),(0,r.jsx)(n.Z,{size:"2xl",children:null==x?void 0:x.expertise})]}),(0,r.jsxs)(s.Z,{className:"flex justify-around py-8 my-4 bg-black/90",children:[(0,r.jsxs)(s.Z,{className:"flex flex-col justify-center items-center w-[25%]",children:[(0,r.jsx)(n.Z,{weight:"bold",color:"gray",children:"Jobs"}),(0,r.jsx)(n.Z,{weight:"bold",color:"white",children:null==x?void 0:x.totalJobs})]}),(0,r.jsxs)(s.Z,{className:"flex flex-col justify-center items-center w-[25%]",children:[(0,r.jsx)(n.Z,{weight:"bold",color:"gray",children:"Work Hours"}),(0,r.jsx)(n.Z,{weight:"bold",color:"white",children:null==x?void 0:x.totalHours})]}),(0,r.jsxs)(s.Z,{className:"flex flex-col justify-center items-center w-[25%]",children:[(0,r.jsx)(n.Z,{weight:"bold",color:"gray",children:"Job Success Score"}),(0,r.jsx)(n.Z,{weight:"bold",className:"!text-[#a8c0ff]",children:null==x?void 0:x.jobSuccessScore})]}),(0,r.jsxs)(s.Z,{className:"flex flex-col justify-center items-center w-[25%]",children:[(0,r.jsx)(n.Z,{weight:"bold",color:"gray",children:"Badges"}),(0,r.jsx)(n.Z,{weight:"bold",className:"".concat((null==x?void 0:x.badge)==="No data available"?"!text-gray-500":""," ").concat((null==x?void 0:x.badge)==="Top Rated"?"!text-[#6f86d6]":""," ").concat((null==x?void 0:x.badge)!=="Top Rated"&&(null==x?void 0:x.badge)!=="No data available"?"!text-[#f66dbc]":""," "),children:null==x?void 0:x.badge})]})]}),(null==x?void 0:x.matchingWorkHistories)&&(null==x?void 0:null===(t=x.matchingWorkHistories)||void 0===t?void 0:t.length)>0&&(0,r.jsxs)(s.Z,{className:"border-2 p-4 w-50%",children:[(0,r.jsxs)(s.Z,{className:"flex gap-4 my-2",children:[(0,r.jsx)(n.Z,{size:"xl",weight:"bold",children:"Related Work history"}),m?(0,r.jsx)(a.zBn,{size:30,onClick:()=>b(!1),className:"cursor-pointer",color:"black"}):(0,r.jsx)(a.U0j,{size:30,onClick:()=>b(!0),className:"cursor-pointer",color:"black"})]}),m&&(0,r.jsx)(s.Z,{className:"py-4",children:(0,r.jsx)(n.Z,{size:"lg",weight:"bold",className:"hover:text-green-500 cursor-pointer y-2 px-4 bg-green-100 py-2",children:"Completed"})}),m&&(0,r.jsx)(s.Z,{className:"px-4 py-2 grid grid-cols-2 grid-flow-row gap-4",children:null==x?void 0:null===(l=x.matchingWorkHistories)||void 0===l?void 0:l.map((e,t)=>(0,r.jsxs)(s.Z,{className:"flex flex-col justify-between gap-2 p-4 border-2 space-y-1",children:[(0,r.jsxs)(s.Z,{className:"grid grid-cols-2 gap-4 grid-flow-row",children:[(0,r.jsxs)(s.Z,{className:"flex flex-col gap-2",children:[(0,r.jsx)(n.Z,{size:"lg",weight:"bold",children:null==e?void 0:e.title}),(0,r.jsx)(d.iG,{style:{maxWidth:100},value:isNaN(null==e?void 0:e.rating)?parseInt(null==e?void 0:e.rating):null==e?void 0:e.rating,isDisabled:!0})]}),(0,r.jsxs)(s.Z,{className:"flex flex-col gap-2 items-end",children:[(0,r.jsx)(n.Z,{size:"sm",color:"gray",weight:"semibold",children:null==e?void 0:e.dateRange}),(0,r.jsxs)(n.Z,{size:"md",color:"gray",weight:"extrabold",children:[" ",null==e?void 0:e.hours,(null==e?void 0:e.hours)!=="Fixed price"&&(null==e?void 0:e.hours)!=="No hours"?" Hours":""]})]})]},t),(0,r.jsx)(s.Z,{className:"truncate",children:(0,r.jsx)(n.Z,{className:"!text-[14px]",color:"gray",children:null==e?void 0:e.feedback})})]},t))})]}),(0,r.jsxs)(s.Z,{className:"border-2 p-4 w-50%",children:[(0,r.jsxs)(s.Z,{className:"flex gap-4 my-2",children:[(0,r.jsx)(n.Z,{size:"xl",weight:"bold",children:"Work history"}),f?(0,r.jsx)(a.zBn,{size:30,onClick:y,color:"black",className:"cursor-pointer"}):(0,r.jsx)(a.U0j,{size:30,color:"black",onClick:y,className:"cursor-pointer"})]}),f&&(0,r.jsxs)(s.Z,{className:"flex flex-row py-4",children:[(0,r.jsx)(s.Z,{onClick:()=>v("completed"),children:(0,r.jsx)(n.Z,{size:"lg",weight:"bold",className:"hover:text-green-500 cursor-pointer bg-gray-100 py-2 px-4 ".concat("completed"===g?"bg-green-100":""),children:"Completed"})}),(0,r.jsx)(s.Z,{onClick:()=>v("in_progress"),children:(0,r.jsx)(n.Z,{size:"lg",weight:"bold",className:"hover:text-green-500 cursor-pointer bg-gray-100 py-2 px-4 ".concat("in_progress"===g?"bg-green-100":""),children:"In progress"})})]}),f&&(0,r.jsxs)(s.Z,{className:"px-4 py-2 grid grid-cols-2 grid-flow-row gap-4",children:[null===(u="in_progress"===g?null==x?void 0:x.inProgressWorks:null==x?void 0:x.completedWorkHistory)||void 0===u?void 0:u.map((e,t)=>(0,r.jsxs)(s.Z,{className:"flex flex-col justify-between gap-2 p-4 border-2 space-y-1",children:[(0,r.jsxs)(s.Z,{className:"grid grid-cols-2 gap-4 grid-flow-row",children:[(0,r.jsxs)(s.Z,{className:"flex flex-col gap-2",children:[(0,r.jsx)(n.Z,{size:"lg",weight:"bold",children:null==e?void 0:e.title}),"in_progress"!==g&&(0,r.jsx)(d.iG,{style:{maxWidth:100},value:isNaN(null==e?void 0:e.rating)?parseInt(null==e?void 0:e.rating):null==e?void 0:e.rating,isDisabled:!0})]}),"in_progress"!==g&&(0,r.jsxs)(s.Z,{className:"flex flex-col gap-2 items-end",children:[(0,r.jsx)(n.Z,{size:"sm",color:"gray",weight:"semibold",children:null==e?void 0:e.dateRange}),(0,r.jsxs)(n.Z,{size:"md",color:"gray",weight:"extrabold",children:[" ",null==e?void 0:e.hours,(null==e?void 0:e.hours)!=="Fixed price"&&(null==e?void 0:e.hours)!=="No hours"?" Hours":""]})]})]},t),(0,r.jsx)(s.Z,{className:"truncate",children:(0,r.jsx)(n.Z,{className:"!text-[14px]",color:"gray",children:null==e?void 0:e.feedback})})]},t)),"in_progress"===g&&(null==x?void 0:x.inProgressWorks.length)<=0&&(0,r.jsx)(n.Z,{size:"sm",weight:"bold",color:"gray",children:"No Data available"}),"completed"===g&&(null==x?void 0:x.completedWorkHistory.length)<=0&&(0,r.jsx)(n.Z,{size:"sm",weight:"bold",color:"gray",children:"No Data available"})]})]})]})})}},7927:function(e,t,l){l.d(t,{Z:function(){return o}});var r=l(7437);function o(e){let{icon:t,text:l,outerStyle:o,innerStyle:s,middleStyle:n,onPress:a,type:i,isDisabled:c=!1}=e;return(0,r.jsx)("button",{className:"rounded-[40px] border-2 px-12 py-2 text-base font-medium  transition duration-200  ".concat(o),onClick:a,type:i,disabled:c,children:(0,r.jsxs)("div",{className:"flex justify-items-center text-center items-center  ".concat(n," "),children:[t&&(0,r.jsx)("span",{children:(0,r.jsx)(t,{size:24})}),(0,r.jsx)("span",{className:"text-center w-[100%] ".concat(s),children:l})]})})}l(2265)},9927:function(e,t,l){var r=l(7437);l(2265);var o=l(1448),s=l.n(o),n=l(6800),a=l.n(n);let i=e=>{let{placeholder:t,value:l,onChange:o,className:s,name:n,id:i}=e,c=a()("border","p-2","rounded","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",s);return(0,r.jsx)("input",{type:"text",placeholder:t,value:l,onChange:e=>o(e.target.value),className:c,name:n,id:i})};i.propTypes={placeholder:s().string,value:s().string.isRequired,onChange:s().func.isRequired,className:s().string,name:s().string,id:s().string},i.defaultProps={placeholder:"Search by profile name, job description or skill ...",className:""},t.Z=i},92:function(e,t,l){l.d(t,{_:function(){return o},a:function(){return s}});var r=l(2265);let o=(0,r.createContext)(null),s=(0,r.createContext)(null)},9640:function(e,t,l){l.d(t,{Z:function(){return x},i:function(){return g}});var r=l(7437),o=l(2265),s=l(92),n=l(2631),a=l(2937),i=l(4585),c=l(3580),d=l(2649),u=l(9714);function x(e){let{children:t}=e,[l,i]=(0,o.useState)(null),[x,g]=(0,o.useState)([]),[h,f]=(0,o.useState)(null),[p,m]=(0,o.useState)(null),[b,v]=(0,o.useState)(null),[y,j]=(0,o.useState)(!1),[w,Z]=(0,o.useState)(null),{getQuery:N}=(0,a.K)(),k=(0,o.useRef)(null),S=async()=>{i(!0);try{let l=N("page")||1,r=N("limit")||5,o=N("skills")||"",s=N("expertise")||"",a=N("specialized")||"",i=N("sort")||"",c=N("profileType")||"all",d="/api/v1/profiles?page=".concat(l,"&limit=").concat(r,"&skills=").concat(o,"&expertise=").concat(s,"&specialized=").concat(a,"&sort=").concat(i,"&profileType=").concat(c),u=await (0,n.In)(d,{searchInput:h});if((null==u?void 0:u.statusCode)===200){var e,t;g(null==u?void 0:null===(e=u.data)||void 0===e?void 0:e.docs),m(null==u?void 0:null===(t=u.data)||void 0===t?void 0:t.totalDocs)}else(null==u?void 0:u.statusCode)===404&&g([])}catch(e){console.error("Failed to fetch profiles:",e)}finally{i(!1),j(!1)}},C=async()=>{if(i(!0),b)try{let e=await (0,n.In)("/api/v1/profiles/search",{advancedSearchData:b});if((null==e?void 0:e.statusCode)===200||(null==e?void 0:e.statusCode)===404)return null==e?void 0:e.data}catch(e){console.error("Failed to fetch profiles:",e)}finally{i(!1)}};return(0,o.useEffect)(()=>(k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{(null==h?void 0:h.length)<=120?S():h&&(null==h?void 0:h.length)>120&&c.Am.warning("Character limit of 120 exceeded")},800),()=>{clearTimeout(k.current)}),[h]),(0,o.useEffect)(()=>{S()},[N("page"),N("limit"),N("skills"),N("sort"),N("profileType"),N("expertise"),N("specialized")]),(0,o.useEffect)(()=>{let e=d.Z.get("accessToken");e&&Z((0,u.o)(e).role)},[]),(0,r.jsx)(s._.Provider,{value:{sortedProfiles:x,searchInput:h,setSearchInput:f,loadingState:l,setLoadingState:i,fetchProfiles:S,totalProfiles:p,advancedSearchData:b,setAdvancedSearchData:v,fetchRelatedProfiles:C,loaderSeeMore:y,setLoaderSeeMore:j,userRole:w},children:t})}function g(e){let{children:t}=e,[l,a]=(0,o.useState)(1),[x,g]=(0,o.useState)(""),[h,f]=(0,o.useState)(null),[p,m]=(0,o.useState)(!1),[b,v]=(0,o.useState)([]),[y,j]=(0,o.useState)(!1),[w,Z]=(0,o.useState)(!1),[N,k]=(0,o.useState)(""),[S,C]=(0,o.useState)(null),[z,P]=(0,o.useState)([{value:"web",label:"Web",color:"#00B8D9",isFixed:!0},{value:"design",label:"Design",color:"#0052CC"}]),[E,R]=(0,o.useState)(0),[W,_]=(0,o.useState)(null),T=async()=>{m(!0);try{let e=await (0,i.ZP)("/api/v1/profiles/createProfile",x);f(null==e?void 0:e.data),c.Am.success("Profile created successfully!")}catch(e){console.log("Error fetching profiles:",e),c.Am.error("Failed to create profile.")}finally{m(!1)}},O=e=>{let t=encodeURIComponent(e.map(e=>e.value).join(" OR ")),l="".concat("https://www.upwork.com/nx/search/jobs/?per_page=10","&q=").concat(t,"&sort=recency");return k(l),l},U=async e=>{if(e)try{let t=await (0,n.In)("/api/v1/profiles/search",{advancedSearchData:e});if((null==t?void 0:t.statusCode)===200||(null==t?void 0:t.statusCode)===404)return null==t?void 0:t.data}catch(e){console.error("Failed to fetch profiles:",e)}finally{console.log("Profiles fetched")}};return(0,o.useEffect)(()=>{if(console.log("wss://profile-selection-backend-1.onrender.com"),w){let e=new WebSocket("wss://profile-selection-backend-1.onrender.com");e.onopen=()=>{console.log("WebSocket Client Connected"),e.send(N)},e.onmessage=e=>{let t;j(!1);try{t=JSON.parse(e.data)}catch(l){console.log("Received non-JSON message:",e.data),t=e.data}Array.isArray(t)?(v(e=>{let l=t.filter(t=>!e.some(e=>e.jobUrl===t.jobUrl));return R(e=>{let t=l.length;return t>=20?20:t}),[...l,...e]}),c.Am.info("New job posted!")):"string"==typeof t&&console.log(t)},e.onclose=()=>{j(!1),console.log("WebSocket connection closed.")},C(e)}else w||(null==S||S.close(),C(null));return()=>{null==S||S.close()}},[w]),(0,o.useEffect)(()=>{if((null==S?void 0:S.readyState)===WebSocket.OPEN&&z.length>0){let e=O(z);j(!0),S.send(e),console.log("Sent URL to server:",e),k(e)}},[z,S]),(0,o.useEffect)(()=>{let e=d.Z.get("accessToken");e&&_((0,u.o)(e).role)},[]),(0,r.jsx)(s.a.Provider,{value:{step:l,setStep:a,handleProfileCreation:T,isLoading:p,newProfile:h,inputURL:x,setInputURL:g,setNewProfile:f,job:b,setJobs:v,loading:y,setLoading:j,isChecked:w,setIsChecked:Z,url:N,setUrl:k,ws:S,selectedKeywords:z,setSelectedKeywords:P,newJobCount:E,setNewJobCount:R,fetchRelatedProfiles:U,userRole:W},children:t})}},5536:function(e,t,l){l.d(t,{X:function(){return n},Z:function(){return s}});var r=l(2265),o=l(92);function s(){let e=(0,r.useContext)(o._);if(!e)throw Error("UseStore must be used within a StoreProvider");return e}let n=()=>(0,r.useContext)(o.a)},9200:function(e,t,l){var r=l(7437);l(2265);var o=l(1448),s=l.n(o),n=l(6800),a=l.n(n);let i=e=>{let{children:t,size:l,color:o,weight:s,align:n,className:i}=e,c=a()({"text-xs":"xs"===l,"text-sm":"sm"===l,"text-base":"base"===l,"text-lg":"lg"===l,"text-xl":"xl"===l,"text-2xl":"2xl"===l,"text-3xl":"3xl"===l,"text-4xl":"4xl"===l,"text-5xl":"5xl"===l,"text-6xl":"6xl"===l,"text-7xl":"7xl"===l,"text-8xl":"8xl"===l,"text-9xl":"9xl"===l,"text-black":"black"===o,"text-white":"white"===o,"text-gray-500":"gray"===o,"text-red-500":"red"===o,"text-green-500":"green"===o,"text-blue-500":"blue"===o,"font-light":"light"===s,"font-normal":"normal"===s,"font-medium":"medium"===s,"font-semibold":"semibold"===s,"font-bold":"bold"===s,"font-extrabold":"extrabold"===s,"text-left":"left"===n,"text-center":"center"===n,"text-right":"right"===n,"text-justify":"justify"===n},i);return(0,r.jsx)("span",{className:c,children:t})};i.propTypes={children:s().node.isRequired,size:s().oneOf(["xs","sm","base","lg","xl","2xl","3xl","4xl","5xl","6xl","7xl","8xl","9xl"]),color:s().oneOf(["black","white","gray","red","green","blue"]),weight:s().oneOf(["light","normal","medium","semibold","bold","extrabold"]),align:s().oneOf(["left","center","right","justify"]),className:s().string},i.defaultProps={size:"base",color:"black",weight:"normal",align:"left",className:""},t.Z=i},1802:function(e,t,l){var r=l(7437);l(2265);var o=l(1448),s=l.n(o),n=l(6800),a=l.n(n);let i=e=>{let{children:t,padding:l,margin:o,bgColor:s,borderColor:n,borderWidth:i,rounded:c,shadow:d,className:u,onClick:x}=e,g=a()({["p-".concat(l)]:l,["m-".concat(o)]:o,["bg-".concat(s)]:s,["border-".concat(n)]:n,["border-".concat(i)]:i,["rounded-".concat(c)]:c,["shadow-".concat(d)]:d},u);return(0,r.jsx)("div",{className:g,onClick:x,children:t})};i.propTypes={children:s().node.isRequired,padding:s().oneOf(["0","1","2","3","4","5","6","7","8","9","10"]),margin:s().oneOf(["0","1","2","3","4","5","6","7","8","9","10"]),bgColor:s().string,borderColor:s().string,borderWidth:s().oneOf(["0","1","2","3","4","5","6","7","8"]),rounded:s().oneOf(["none","sm","md","lg","xl","2xl","3xl","full"]),shadow:s().oneOf(["none","sm","md","lg","xl","2xl"]),className:s().string},i.defaultProps={padding:"0",margin:"0",bgColor:"transparent",borderColor:"transparent",borderWidth:"0",rounded:"none",shadow:"none",className:""},t.Z=i},2937:function(e,t,l){l.d(t,{K:function(){return o}});var r=l(6463);function o(){let e=(0,r.useSearchParams)(),t=(0,r.usePathname)(),l=(0,r.useRouter)();return{setQuery:(r,o)=>{let s=new URLSearchParams(e.toString());r&&o&&s.set(r,o),l.replace("".concat(t,"?").concat(s.toString()),{scroll:!1})},deleteQuery:r=>{let o=new URLSearchParams(e.toString());r&&o.delete(r),l.replace("".concat(t,"?").concat(o.toString()),{scroll:!1})},getAllQuery:()=>{let t={};return e.forEach((e,l)=>{t[l]=e}),t},getQuery:t=>{let l=new URLSearchParams(e.toString());if(t)return l.get(t)}}}},671:function(e,t,l){let r=l(8472).Z.create({baseURL:"https://tools.vibhutidigital.com",timeout:5e5,headers:{"Content-Type":"application/json"}});t.Z=r},4585:function(e,t,l){l.d(t,{Cq:function(){return s},f4:function(){return a},r4:function(){return n}});var r=l(671);let o=async(e,t)=>{try{return(await r.Z.post(e,{url:t},{withCredentials:!0})).data}catch(e){throw console.error("Error creating profile:",e),e}},s=async(e,t)=>{try{return(await r.Z.post(e,{url:t},{withCredentials:!0})).data}catch(e){throw console.error("Error creating job:",e),e}},n=async(e,t)=>{try{return(await r.Z.post(e,t,{withCredentials:!0})).data}catch(e){throw console.error("Error creating user:",e),e}},a=async(e,t)=>{console.log(t);try{return(await r.Z.post(e,t,{withCredentials:!0})).data}catch(e){return console.error("Error creating pinned profile:",e),e.response}};t.ZP=o},2631:function(e,t,l){l.d(t,{In:function(){return a},KV:function(){return n},kS:function(){return i},x4:function(){return s}});var r=l(671);let o=async e=>{try{return(await r.Z.get(e,{withCredentials:!0})).data}catch(e){throw console.error("Error fetching data:",e),e}},s=async(e,t)=>{try{return(await r.Z.post(e,t,{withCredentials:!0})).data}catch(e){return console.error("Error logging data:",e),e.response.data}},n=async e=>{try{return(await r.Z.get(e,{withCredentials:!0})).data}catch(e){throw console.error("Error getting existing user:",e),e}},a=async(e,t)=>{try{return(await r.Z.post(e,t,{withCredentials:!0})).data}catch(e){return console.error("Error fetching data:",e),e.response.data}},i=async e=>{try{return(await r.Z.get(e,{withCredentials:!0})).data}catch(e){return console.error("Error logging out:",e),e.response.data}};t.ZP=o}}]);