"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[125],{1368:function(e,l,t){t.d(l,{Z:function(){return u}});var r=t(7437),o=t(2265),n=t(1802),s=t(9200),a=t(9824),i=t(7138),c=t(1942),d=t(4921);function u(e){var l,t,u;let{profile:x}=e,[g,h]=(0,o.useState)("completed"),[f,p]=(0,o.useState)(!1),[m,b]=(0,o.useState)(!1),v=e=>{h(e)},y=()=>{p(!f)};return(0,r.jsx)(n.Z,{children:(0,r.jsxs)(n.Z,{className:"my-5 p-10 bg-white rounded-lg",children:[(0,r.jsxs)(n.Z,{className:"flex flex-col space-y-4",children:[(0,r.jsxs)(n.Z,{className:"flex space-x-2",children:[(0,r.jsxs)(n.Z,{className:"flex gap-4",children:[(0,r.jsx)(s.Z,{size:"2xl",weight:"bold",children:null==x?void 0:x.name}),(0,r.jsx)(i.default,{href:null==x?void 0:x.url,target:"_blank",children:(0,r.jsx)(c.CkN,{size:22,className:"cursor-pointer",color:"black"})})]}),(0,r.jsx)(s.Z,{size:"md",weight:"bold",color:"green",children:(null==x?void 0:x.isSpecializedProfile)&&"Specialized Profile"})]}),(0,r.jsx)(s.Z,{size:"2xl",children:null==x?void 0:x.expertise})]}),(0,r.jsxs)(n.Z,{className:"flex justify-around py-8 my-4 bg-black/90",children:[(0,r.jsxs)(n.Z,{className:"flex flex-col justify-center items-center w-[25%]",children:[(0,r.jsx)(s.Z,{weight:"bold",color:"gray",children:"Jobs"}),(0,r.jsx)(s.Z,{weight:"bold",color:"white",children:null==x?void 0:x.totalJobs})]}),(0,r.jsxs)(n.Z,{className:"flex flex-col justify-center items-center w-[25%]",children:[(0,r.jsx)(s.Z,{weight:"bold",color:"gray",children:"Work Hours"}),(0,r.jsx)(s.Z,{weight:"bold",color:"white",children:null==x?void 0:x.totalHours})]}),(0,r.jsxs)(n.Z,{className:"flex flex-col justify-center items-center w-[25%]",children:[(0,r.jsx)(s.Z,{weight:"bold",color:"gray",children:"Job Success Score"}),(0,r.jsx)(s.Z,{weight:"bold",className:"!text-[#a8c0ff]",children:null==x?void 0:x.jobSuccessScore})]}),(0,r.jsxs)(n.Z,{className:"flex flex-col justify-center items-center w-[25%]",children:[(0,r.jsx)(s.Z,{weight:"bold",color:"gray",children:"Badges"}),(0,r.jsx)(s.Z,{weight:"bold",className:"".concat((null==x?void 0:x.badge)==="No data available"?"!text-gray-500":""," ").concat((null==x?void 0:x.badge)==="Top Rated"?"!text-[#6f86d6]":""," ").concat((null==x?void 0:x.badge)!=="Top Rated"&&(null==x?void 0:x.badge)!=="No data available"?"!text-[#f66dbc]":""," "),children:null==x?void 0:x.badge})]})]}),(null==x?void 0:x.matchingWorkHistories)&&(null==x?void 0:null===(l=x.matchingWorkHistories)||void 0===l?void 0:l.length)>0&&(0,r.jsxs)(n.Z,{className:"border-2 p-4 w-50%",children:[(0,r.jsxs)(n.Z,{className:"flex gap-4 my-2",children:[(0,r.jsx)(s.Z,{size:"xl",weight:"bold",children:"Related Work history"}),m?(0,r.jsx)(a.zBn,{size:30,onClick:()=>b(!1),className:"cursor-pointer",color:"black"}):(0,r.jsx)(a.U0j,{size:30,onClick:()=>b(!0),className:"cursor-pointer",color:"black"})]}),m&&(0,r.jsx)(n.Z,{className:"py-4",children:(0,r.jsx)(s.Z,{size:"lg",weight:"bold",className:"hover:text-green-500 cursor-pointer y-2 px-4 bg-green-100 py-2",children:"Completed"})}),m&&(0,r.jsx)(n.Z,{className:"px-4 py-2 grid grid-cols-2 grid-flow-row gap-4",children:null==x?void 0:null===(t=x.matchingWorkHistories)||void 0===t?void 0:t.map((e,l)=>(0,r.jsxs)(n.Z,{className:"flex flex-col justify-between gap-2 p-4 border-2 space-y-1",children:[(0,r.jsxs)(n.Z,{className:"grid grid-cols-2 gap-4 grid-flow-row",children:[(0,r.jsxs)(n.Z,{className:"flex flex-col gap-2",children:[(0,r.jsx)(s.Z,{size:"lg",weight:"bold",children:null==e?void 0:e.title}),(0,r.jsx)(d.iG,{style:{maxWidth:100},value:isNaN(null==e?void 0:e.rating)?parseInt(null==e?void 0:e.rating):null==e?void 0:e.rating,isDisabled:!0})]}),(0,r.jsxs)(n.Z,{className:"flex flex-col gap-2 items-end",children:[(0,r.jsx)(s.Z,{size:"sm",color:"gray",weight:"semibold",children:null==e?void 0:e.dateRange}),(0,r.jsxs)(s.Z,{size:"md",color:"gray",weight:"extrabold",children:[" ",null==e?void 0:e.hours,(null==e?void 0:e.hours)!=="Fixed price"&&(null==e?void 0:e.hours)!=="No hours"?" Hours":""]})]})]},l),(0,r.jsx)(n.Z,{className:"truncate",children:(0,r.jsx)(s.Z,{className:"!text-[14px]",color:"gray",children:null==e?void 0:e.feedback})})]},l))})]}),(0,r.jsxs)(n.Z,{className:"border-2 p-4 w-50%",children:[(0,r.jsxs)(n.Z,{className:"flex gap-4 my-2",children:[(0,r.jsx)(s.Z,{size:"xl",weight:"bold",children:"Work history"}),f?(0,r.jsx)(a.zBn,{size:30,onClick:y,color:"black",className:"cursor-pointer"}):(0,r.jsx)(a.U0j,{size:30,color:"black",onClick:y,className:"cursor-pointer"})]}),f&&(0,r.jsxs)(n.Z,{className:"flex flex-row py-4",children:[(0,r.jsx)(n.Z,{onClick:()=>v("completed"),children:(0,r.jsx)(s.Z,{size:"lg",weight:"bold",className:"hover:text-green-500 cursor-pointer bg-gray-100 py-2 px-4 ".concat("completed"===g?"bg-green-100":""),children:"Completed"})}),(0,r.jsx)(n.Z,{onClick:()=>v("in_progress"),children:(0,r.jsx)(s.Z,{size:"lg",weight:"bold",className:"hover:text-green-500 cursor-pointer bg-gray-100 py-2 px-4 ".concat("in_progress"===g?"bg-green-100":""),children:"In progress"})})]}),f&&(0,r.jsxs)(n.Z,{className:"px-4 py-2 grid grid-cols-2 grid-flow-row gap-4",children:[null===(u="in_progress"===g?null==x?void 0:x.inProgressWorks:null==x?void 0:x.completedWorkHistory)||void 0===u?void 0:u.map((e,l)=>(0,r.jsxs)(n.Z,{className:"flex flex-col justify-between gap-2 p-4 border-2 space-y-1",children:[(0,r.jsxs)(n.Z,{className:"grid grid-cols-2 gap-4 grid-flow-row",children:[(0,r.jsxs)(n.Z,{className:"flex flex-col gap-2",children:[(0,r.jsx)(s.Z,{size:"lg",weight:"bold",children:null==e?void 0:e.title}),"in_progress"!==g&&(0,r.jsx)(d.iG,{style:{maxWidth:100},value:isNaN(null==e?void 0:e.rating)?parseInt(null==e?void 0:e.rating):null==e?void 0:e.rating,isDisabled:!0})]}),"in_progress"!==g&&(0,r.jsxs)(n.Z,{className:"flex flex-col gap-2 items-end",children:[(0,r.jsx)(s.Z,{size:"sm",color:"gray",weight:"semibold",children:null==e?void 0:e.dateRange}),(0,r.jsxs)(s.Z,{size:"md",color:"gray",weight:"extrabold",children:[" ",null==e?void 0:e.hours,(null==e?void 0:e.hours)!=="Fixed price"&&(null==e?void 0:e.hours)!=="No hours"?" Hours":""]})]})]},l),(0,r.jsx)(n.Z,{className:"truncate",children:(0,r.jsx)(s.Z,{className:"!text-[14px]",color:"gray",children:null==e?void 0:e.feedback})})]},l)),"in_progress"===g&&(null==x?void 0:x.inProgressWorks.length)<=0&&(0,r.jsx)(s.Z,{size:"sm",weight:"bold",color:"gray",children:"No Data available"}),"completed"===g&&(null==x?void 0:x.completedWorkHistory.length)<=0&&(0,r.jsx)(s.Z,{size:"sm",weight:"bold",color:"gray",children:"No Data available"})]})]})]})})}},7927:function(e,l,t){t.d(l,{Z:function(){return o}});var r=t(7437);function o(e){let{icon:l,text:t,outerStyle:o,innerStyle:n,middleStyle:s,onPress:a,type:i,isDisabled:c=!1}=e;return(0,r.jsx)("button",{className:"rounded-[40px] border-2 px-12 py-2 text-base font-medium  transition duration-200  ".concat(o),onClick:a,type:i,disabled:c,children:(0,r.jsxs)("div",{className:"flex justify-items-center text-center items-center  ".concat(s," "),children:[l&&(0,r.jsx)("span",{children:(0,r.jsx)(l,{size:24})}),(0,r.jsx)("span",{className:"text-center w-[100%] ".concat(n),children:t})]})})}t(2265)},9927:function(e,l,t){var r=t(7437);t(2265);var o=t(1448),n=t.n(o),s=t(6800),a=t.n(s);let i=e=>{let{placeholder:l,value:t,onChange:o,className:n,name:s,id:i}=e,c=a()("border","p-2","rounded","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",n);return(0,r.jsx)("input",{type:"text",placeholder:l,value:t,onChange:e=>o(e.target.value),className:c,name:s,id:i})};i.propTypes={placeholder:n().string,value:n().string.isRequired,onChange:n().func.isRequired,className:n().string,name:n().string,id:n().string},i.defaultProps={placeholder:"Search by profile name, job description or skill ...",className:""},l.Z=i},92:function(e,l,t){t.d(l,{_:function(){return o},a:function(){return n}});var r=t(2265);let o=(0,r.createContext)(null),n=(0,r.createContext)(null)},9640:function(e,l,t){t.d(l,{Z:function(){return x},i:function(){return g}});var r=t(7437),o=t(2265),n=t(92),s=t(2631),a=t(2937),i=t(4585),c=t(3580),d=t(2649),u=t(9714);function x(e){let{children:l}=e,[t,i]=(0,o.useState)(null),[x,g]=(0,o.useState)([]),[h,f]=(0,o.useState)(null),[p,m]=(0,o.useState)(null),[b,v]=(0,o.useState)(null),[y,j]=(0,o.useState)(!1),[w,Z]=(0,o.useState)(null),{getQuery:N}=(0,a.K)(),k=(0,o.useRef)(null),S=async()=>{i(!0);try{let t=N("page")||1,r=N("limit")||5,o=N("skills")||"",n=N("expertise")||"",a=N("specialized")||"",i=N("sort")||"",c=N("profileType")||"all",d="/api/v1/profiles?page=".concat(t,"&limit=").concat(r,"&skills=").concat(o,"&expertise=").concat(n,"&specialized=").concat(a,"&sort=").concat(i,"&profileType=").concat(c),u=await (0,s.In)(d,{searchInput:h});if((null==u?void 0:u.statusCode)===200){var e,l;g(null==u?void 0:null===(e=u.data)||void 0===e?void 0:e.docs),m(null==u?void 0:null===(l=u.data)||void 0===l?void 0:l.totalDocs)}else(null==u?void 0:u.statusCode)===404&&g([])}catch(e){console.error("Failed to fetch profiles:",e)}finally{i(!1),j(!1)}},C=async()=>{if(i(!0),b)try{let e=await (0,s.In)("/api/v1/profiles/search",{advancedSearchData:b});if((null==e?void 0:e.statusCode)===200||(null==e?void 0:e.statusCode)===404)return null==e?void 0:e.data}catch(e){console.error("Failed to fetch profiles:",e)}finally{i(!1)}};return(0,o.useEffect)(()=>(k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{(null==h?void 0:h.length)<=120?S():h&&(null==h?void 0:h.length)>120&&c.Am.warning("Character limit of 120 exceeded")},800),()=>{clearTimeout(k.current)}),[h]),(0,o.useEffect)(()=>{S()},[N("page"),N("limit"),N("skills"),N("sort"),N("profileType"),N("expertise"),N("specialized")]),(0,o.useEffect)(()=>{let e=d.Z.get("accessToken");e&&Z((0,u.o)(e).role)},[]),(0,r.jsx)(n._.Provider,{value:{sortedProfiles:x,searchInput:h,setSearchInput:f,loadingState:t,setLoadingState:i,fetchProfiles:S,totalProfiles:p,advancedSearchData:b,setAdvancedSearchData:v,fetchRelatedProfiles:C,loaderSeeMore:y,setLoaderSeeMore:j,userRole:w},children:l})}function g(e){let{children:l}=e,[t,a]=(0,o.useState)(1),[x,g]=(0,o.useState)(""),[h,f]=(0,o.useState)(null),[p,m]=(0,o.useState)(!1),[b,v]=(0,o.useState)([]),[y,j]=(0,o.useState)(!1),[w,Z]=(0,o.useState)(!1),[N,k]=(0,o.useState)(""),[S,C]=(0,o.useState)(null),[z,P]=(0,o.useState)([{value:"web",label:"Web",color:"#00B8D9",isFixed:!0},{value:"design",label:"Design",color:"#0052CC"}]),[E,R]=(0,o.useState)(0),[W,_]=(0,o.useState)(null),T=async()=>{m(!0);try{let e=await (0,i.ZP)("/api/v1/profiles/createProfile",x);f(null==e?void 0:e.data),c.Am.success("Profile created successfully!")}catch(e){console.log("Error fetching profiles:",e),c.Am.error("Failed to create profile.")}finally{m(!1)}},O=e=>{let l=encodeURIComponent(e.map(e=>e.value).join(" OR ")),t="".concat("https://www.upwork.com/nx/search/jobs/?per_page=10","&q=").concat(l,"&sort=recency");return k(t),t},U=async e=>{if(e)try{let l=await (0,s.In)("/api/v1/profiles/search",{advancedSearchData:e});if((null==l?void 0:l.statusCode)===200||(null==l?void 0:l.statusCode)===404)return null==l?void 0:l.data}catch(e){console.error("Failed to fetch profiles:",e)}finally{console.log("Profiles fetched")}};return(0,o.useEffect)(()=>{if(console.log("wss://profile-selection-backend-1.onrender.com"),w){let e=new WebSocket("wss://profile-selection-backend-1.onrender.com");e.onopen=()=>{console.log("WebSocket Client Connected"),e.send(N)},e.onmessage=e=>{let l;j(!1);try{l=JSON.parse(e.data)}catch(t){console.log("Received non-JSON message:",e.data),l=e.data}Array.isArray(l)?(v(e=>{let t=l.filter(l=>!e.some(e=>e.jobUrl===l.jobUrl));return R(e=>{let l=t.length;return l>=20?20:l}),[...t,...e]}),c.Am.info("New job posted!")):"string"==typeof l&&console.log(l)},e.onclose=()=>{j(!1),console.log("WebSocket connection closed.")},C(e)}else w||(null==S||S.close(),C(null));return()=>{null==S||S.close()}},[w]),(0,o.useEffect)(()=>{if((null==S?void 0:S.readyState)===WebSocket.OPEN&&z.length>0){let e=O(z);j(!0),S.send(e),console.log("Sent URL to server:",e),k(e)}},[z,S]),(0,o.useEffect)(()=>{let e=d.Z.get("accessToken");e&&_((0,u.o)(e).role)},[]),(0,r.jsx)(n.a.Provider,{value:{step:t,setStep:a,handleProfileCreation:T,isLoading:p,newProfile:h,inputURL:x,setInputURL:g,setNewProfile:f,job:b,setJobs:v,loading:y,setLoading:j,isChecked:w,setIsChecked:Z,url:N,setUrl:k,ws:S,selectedKeywords:z,setSelectedKeywords:P,newJobCount:E,setNewJobCount:R,fetchRelatedProfiles:U,userRole:W},children:l})}},5536:function(e,l,t){t.d(l,{X:function(){return s},Z:function(){return n}});var r=t(2265),o=t(92);function n(){let e=(0,r.useContext)(o._);if(!e)throw Error("UseStore must be used within a StoreProvider");return e}let s=()=>(0,r.useContext)(o.a)},9200:function(e,l,t){var r=t(7437);t(2265);var o=t(1448),n=t.n(o),s=t(6800),a=t.n(s);let i=e=>{let{children:l,size:t,color:o,weight:n,align:s,className:i}=e,c=a()({"text-xs":"xs"===t,"text-sm":"sm"===t,"text-base":"base"===t,"text-lg":"lg"===t,"text-xl":"xl"===t,"text-2xl":"2xl"===t,"text-3xl":"3xl"===t,"text-4xl":"4xl"===t,"text-5xl":"5xl"===t,"text-6xl":"6xl"===t,"text-7xl":"7xl"===t,"text-8xl":"8xl"===t,"text-9xl":"9xl"===t,"text-black":"black"===o,"text-white":"white"===o,"text-gray-500":"gray"===o,"text-red-500":"red"===o,"text-green-500":"green"===o,"text-blue-500":"blue"===o,"font-light":"light"===n,"font-normal":"normal"===n,"font-medium":"medium"===n,"font-semibold":"semibold"===n,"font-bold":"bold"===n,"font-extrabold":"extrabold"===n,"text-left":"left"===s,"text-center":"center"===s,"text-right":"right"===s,"text-justify":"justify"===s},i);return(0,r.jsx)("span",{className:c,children:l})};i.propTypes={children:n().node.isRequired,size:n().oneOf(["xs","sm","base","lg","xl","2xl","3xl","4xl","5xl","6xl","7xl","8xl","9xl"]),color:n().oneOf(["black","white","gray","red","green","blue"]),weight:n().oneOf(["light","normal","medium","semibold","bold","extrabold"]),align:n().oneOf(["left","center","right","justify"]),className:n().string},i.defaultProps={size:"base",color:"black",weight:"normal",align:"left",className:""},l.Z=i},1802:function(e,l,t){var r=t(7437);t(2265);var o=t(1448),n=t.n(o),s=t(6800),a=t.n(s);let i=e=>{let{children:l,padding:t,margin:o,bgColor:n,borderColor:s,borderWidth:i,rounded:c,shadow:d,className:u,onClick:x}=e,g=a()({["p-".concat(t)]:t,["m-".concat(o)]:o,["bg-".concat(n)]:n,["border-".concat(s)]:s,["border-".concat(i)]:i,["rounded-".concat(c)]:c,["shadow-".concat(d)]:d},u);return(0,r.jsx)("div",{className:g,onClick:x,children:l})};i.propTypes={children:n().node.isRequired,padding:n().oneOf(["0","1","2","3","4","5","6","7","8","9","10"]),margin:n().oneOf(["0","1","2","3","4","5","6","7","8","9","10"]),bgColor:n().string,borderColor:n().string,borderWidth:n().oneOf(["0","1","2","3","4","5","6","7","8"]),rounded:n().oneOf(["none","sm","md","lg","xl","2xl","3xl","full"]),shadow:n().oneOf(["none","sm","md","lg","xl","2xl"]),className:n().string},i.defaultProps={padding:"0",margin:"0",bgColor:"transparent",borderColor:"transparent",borderWidth:"0",rounded:"none",shadow:"none",className:""},l.Z=i},2937:function(e,l,t){t.d(l,{K:function(){return o}});var r=t(6463);function o(){let e=(0,r.useSearchParams)(),l=(0,r.usePathname)(),t=(0,r.useRouter)();return{setQuery:(r,o)=>{let n=new URLSearchParams(e.toString());r&&o&&n.set(r,o),t.replace("".concat(l,"?").concat(n.toString()),{scroll:!1})},deleteQuery:r=>{let o=new URLSearchParams(e.toString());r&&o.delete(r),t.replace("".concat(l,"?").concat(o.toString()),{scroll:!1})},getAllQuery:()=>{let l={};return e.forEach((e,t)=>{l[t]=e}),l},getQuery:l=>{let t=new URLSearchParams(e.toString());if(l)return t.get(l)}}}},671:function(e,l,t){let r=t(8472).Z.create({baseURL:"http://3.147.127.130:8000",timeout:5e5,headers:{"Content-Type":"application/json"}});l.Z=r},4585:function(e,l,t){t.d(l,{Cq:function(){return n},f4:function(){return a},r4:function(){return s}});var r=t(671);let o=async(e,l)=>{try{return(await r.Z.post(e,{url:l},{withCredentials:!0})).data}catch(e){throw console.error("Error creating profile:",e),e}},n=async(e,l)=>{try{return(await r.Z.post(e,{url:l},{withCredentials:!0})).data}catch(e){throw console.error("Error creating job:",e),e}},s=async(e,l)=>{try{return(await r.Z.post(e,l,{withCredentials:!0})).data}catch(e){throw console.error("Error creating user:",e),e}},a=async(e,l)=>{console.log(l);try{return(await r.Z.post(e,l,{withCredentials:!0})).data}catch(e){return console.error("Error creating pinned profile:",e),e.response}};l.ZP=o},2631:function(e,l,t){t.d(l,{In:function(){return a},KV:function(){return s},kS:function(){return i},x4:function(){return n}});var r=t(671);let o=async e=>{try{return(await r.Z.get(e,{withCredentials:!0})).data}catch(e){throw console.error("Error fetching data:",e),e}},n=async(e,l)=>{try{return(await r.Z.post(e,l,{withCredentials:!0})).data}catch(e){return console.error("Error logging data:",e),e.response.data}},s=async e=>{try{return(await r.Z.get(e,{withCredentials:!0})).data}catch(e){throw console.error("Error getting existing user:",e),e}},a=async(e,l)=>{try{return(await r.Z.post(e,l,{withCredentials:!0})).data}catch(e){return console.error("Error fetching data:",e),e.response.data}},i=async e=>{try{return(await r.Z.get(e,{withCredentials:!0})).data}catch(e){return console.error("Error logging out:",e),e.response.data}};l.ZP=o}}]);